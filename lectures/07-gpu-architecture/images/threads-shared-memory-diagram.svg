<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="800" height="600" fill="#f8f8f8"/>
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Threads in a Block Accessing Shared Memory</text>
  
  <!-- Thread Block -->
  <rect x="100" y="80" width="600" height="300" rx="10" ry="10" fill="#76b900" fill-opacity="0.1" stroke="#76b900" stroke-width="3"/>
  <text x="400" y="100" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Thread Block</text>

  <!-- Threads -->
  <g id="threads">
    <!-- Row 1 -->
    <circle cx="150" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="150" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T0</text>
    
    <circle cx="210" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="210" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T1</text>
    
    <circle cx="270" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="270" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T2</text>
    
    <circle cx="330" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="330" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T3</text>
    
    <circle cx="390" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="390" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T4</text>
    
    <circle cx="450" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="450" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T5</text>
    
    <circle cx="510" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="510" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T6</text>
    
    <circle cx="570" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="570" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T7</text>
    
    <circle cx="630" cy="150" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="630" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T8</text>
    
    <!-- Row 2 -->
    <circle cx="150" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="150" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T9</text>
    
    <circle cx="210" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="210" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T10</text>
    
    <circle cx="270" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="270" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T11</text>
    
    <circle cx="330" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="330" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T12</text>
    
    <circle cx="390" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="390" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T13</text>
    
    <circle cx="450" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="450" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T14</text>
    
    <circle cx="510" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="510" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T15</text>
    
    <circle cx="570" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="570" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T16</text>
    
    <circle cx="630" cy="210" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="630" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T17</text>
    
    <!-- Row 3 -->
    <circle cx="150" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="150" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T18</text>
    
    <circle cx="210" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="210" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T19</text>
    
    <circle cx="270" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="270" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T20</text>
    
    <circle cx="330" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="330" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T21</text>
    
    <circle cx="390" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="390" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T22</text>
    
    <circle cx="450" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="450" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T23</text>
    
    <circle cx="510" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="510" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T24</text>
    
    <circle cx="570" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="570" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T25</text>
    
    <circle cx="630" cy="270" r="20" fill="#1a73e8" stroke="#0d47a1" stroke-width="2"/>
    <text x="630" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="white">T26</text>
  </g>
  
  <text x="400" y="320" font-family="Arial" font-size="12" text-anchor="middle" fill="#555">Each thread has its own thread ID and register space, but share the same shared memory</text>
  
  <!-- Warps annotation -->
  <rect x="140" y="100" width="180" height="40" fill="none" stroke="#e65100" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="230" y="125" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#e65100">Warp 0</text>
  
  <rect x="330" y="100" width="180" height="40" fill="none" stroke="#e65100" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="420" y="125" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#e65100">Warp 1</text>
  
  <rect x="520" y="100" width="180" height="40" fill="none" stroke="#e65100" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="610" y="125" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#e65100">Warp 2</text>
  
  <!-- Shared Memory -->
  <rect x="100" y="400" width="600" height="100" rx="5" ry="5" fill="#ff6d00" fill-opacity="0.2" stroke="#ff6d00" stroke-width="3"/>
  <text x="400" y="425" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Shared Memory</text>
  
  <!-- Memory cells -->
  <g id="memory-cells">
    <rect x="130" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="155" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">0</text>
    
    <rect x="180" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="205" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">1</text>
    
    <rect x="230" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="255" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">2</text>
    
    <rect x="280" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="305" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">3</text>
    
    <rect x="330" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="355" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">4</text>
    
    <rect x="380" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="405" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">5</text>
    
    <rect x="430" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="455" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">6</text>
    
    <rect x="480" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="505" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">7</text>
    
    <rect x="530" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="555" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">...</text>
    
    <rect x="580" y="450" width="50" height="30" fill="white" stroke="#333" stroke-width="1"/>
    <text x="605" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">N</text>
  </g>
  
  <!-- Access lines -->
  <line x1="150" y1="290" x2="155" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="210" y1="290" x2="205" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="270" y1="290" x2="255" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="330" y1="290" x2="305" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="390" y1="290" x2="355" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="450" y1="290" x2="405" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="510" y1="290" x2="455" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="570" y1="290" x2="505" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="630" y1="290" x2="555" y2="450" stroke="#333" stroke-width="1.5" stroke-dasharray="3,2"/>
  
  <!-- Synchronization barrier -->
  <line x1="100" y1="350" x2="700" y2="350" stroke="#d32f2f" stroke-width="2" stroke-dasharray="10,5"/>
  <text x="400" y="370" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#d32f2f">__syncthreads() Barrier</text>
  
  <!-- Legend -->
  <rect x="600" y="520" width="180" height="60" rx="5" ry="5" fill="white" stroke="#333" stroke-width="1"/>
  <circle cx="620" cy="535" r="10" fill="#1a73e8" stroke="#0d47a1" stroke-width="1"/>
  <text x="670" y="540" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Thread</text>
  <rect x="610" y="550" width="20" height="20" fill="#ff6d00" fill-opacity="0.2" stroke="#ff6d00" stroke-width="1"/>
  <text x="670" y="565" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Shared Memory</text>
</svg>